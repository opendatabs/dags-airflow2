# dags-airflow2
Repository to version the DAGs used in Airflow2 in pvpdstata02

## Docker Mount Types

When configuring Docker containers, especially in the context of Airflow's DockerOperator, it's important to understand the different types of mounts available. These mounts allow the container to access and store data, with each type serving specific use cases.

### Bind Mounts

**Definition:** Bind mounts are a feature that has been available since the early versions of Docker. They allow a file or directory on the host machine to be mounted into a container. The path on the host must be specified as an absolute path.

**Use Cases:** Bind mounts are ideal when:
- You need to persist data on the host system and ensure its longevity beyond the container's lifecycle.
- The container requires access to specific files or directories on the host machine.
- There is a need for real-time synchronization of data between the host and the container.

**Example Configuration in Airflow's DockerOperator:**
```python
mounts = [
    {
        "Target": "/path/in/container",
        "Source": "/path/on/host",
        "Type": "bind",
        "ReadOnly": False  # Set to True if container does not need to modify the data
    }
]
```

### Volumes

**Definition:** Volumes are Docker-managed storage units. They are easier to back up or migrate than bind mounts and are not tied to the host filesystem layout.

**Use Cases:** Volumes are suitable when:
- The data generated by the container needs to be persisted, but not necessarily on the host's filesystem.
- You require a more robust and isolated form of storage that is not dependent on the host's file structure.
- Data needs to be shared among multiple containers or stored on remote hosts/cloud providers.

**Example Configuration in Airflow's DockerOperator:**
```python
mounts = [
    {
        "Target": "/path/in/container",
        "Source": "volume_name",
        "Type": "volume"
    }
]
```

### Tmpfs Mounts

**Definition:** Tmpfs mounts create a temporary file storage in the container's memory. This storage is ephemeral and is not persisted when the container stops.

**Use Cases:** Tmpfs mounts are used when:
- There is a need to store temporary data that is not sensitive.
- The data doesn’t need to be persisted after the container stops.
- You want to avoid writing data to the container’s writable layer to improve performance or security.

**Example Configuration in Airflow's DockerOperator:**
```python
mounts = [
    {
        "Target": "/path/in/container",
        "Type": "tmpfs"
    }
]
```

### Choosing the Right Mount Type

The choice of mount type should be based on the specific requirements of your containerized application. For direct interaction with specific files on the host system, bind mounts are preferred. For data persistence managed by Docker, volumes are more suitable. For non-persistent, ephemeral data storage, tmpfs mounts are the ideal choice. 
